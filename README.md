# Сайт по поиску интересных мест
На сайте вы можете посмотреть какие интересные места есть рядом с вами и не только.

## Как установить
Склонируйте данный репозиторий к себе
```bash
git clone https://github.com/Weddsigell/where_to_go.git
cd where_to_go
```

## Переменные окружения
Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл .env рядом со скриптами и запишите туда данные в таком формате: ПЕРЕМЕННАЯ=значение.

Доступны 6 переменныx:
* DJANGO_SECRET_KEY - секретный ключ Django, используемый для шифрования сессий, CSRF-токенов и других криптографических операций. Должен быть длинным, случайным и храниться в безопасности.
* DJANGO_DEBUG — режим отладки Django (True или False). Включает подробные сообщения об ошибках и автообновление кода. На продакшене должен быть False.
* DJANGO_ALLOWED_HOSTS — список доменов и IP-адресов, на которых разрешено работать приложению Django. Например: ["example.com", "www.example.com"].
* SECURE_HSTS_SECONDS — время (в секундах), на которое браузеры будут автоматически использовать HTTPS для всех запросов к сайту. Используется вместе с HSTS.
* SECURE_HSTS_INCLUDE_SUBDOMAINS — логическое значение (True/False), указывающее, применять ли HSTS к поддоменам основного домена.
* SECURE_HSTS_PRELOAD — логическое значение (True/False), указывающее на возможность включения сайта в список предзагруженных HSTS браузеров (preload list).

## Как запустить
Для запуска сайта вам понадобится UV. Как установить вы найдете [тут](https://github.com/astral-sh/uv).

Применить миграции
```bash
uv run manage.py migrate
```
Создать суперпользователя
```bash
uv run manage.py createsuperuser
```
Запустить сервер разработки
```bash
uv run manage.py runserver
```

## Заполнение базы данных
После запуска сервера:
1. Перейдите на /admin вашего сайта (например, http://127.0.0.1:8000/admin)
2. Войдите с помощью созданного суперпользователя
3. Добавляйте данные через интерфейс администратора
### или
Загрузить данные через втроенную команду
```bash
uv run manage.py load_place {тут url на json}
```
Ссылки брать [тут](https://github.com/devmanorg/where-to-go-places/tree/master/places). 
Выберите файл, откройте его на отдельной странице и нажмите кнопку Raw. Так вы получите ссылку на исходный код файла.

## Зависимости
* Python 3.12.6
* django>=5.2.8
* django-admin-sortable2>=2.2.8
* django-tinymce>=5.0.0
* environs>=14.5.0
* pillow>=12.0.0
* requests>=2.32.5

## Структура проекта
```
where_to_go/
│── manage.py # основной скрипт
│── where_to_go # директория django проекта
│── places # директория django приложения
│── static # директория со статикой для работы сайта
│── templates # директория c html шаблонами для работы сайта
│── pyproject.toml # uv файл
│── uv.lock # uv файл
│── .python-version # uv файл
└── README.md # документация
```

###### Спасибо за просмотр